{% extends "base.html" %}
{% load solution_filters %}

{% block title %}Woodrow Wilson Academy{% endblock %}

{% block content %}
{% if request.user.profile.role >= 3 %}
<h1>Evaluations</h1>
{% endif %}

    {% if request.user.profile.role == 2 %}
<h1>Solutions</h1>
{% endif %}

<table cellpadding="10px" border="1px">
New Submissions
{% for userSolution in userSolutions %}
    {% if userSolution|check_evaluated:request.user is False %}
    <tr>
        <td>
            {% if request.user.profile.role == 2 %}
                <a href="solutions/{{ userSolution.id }}">Solutions</a><br>
            {% endif %}

            {% if request.user.profile.role >= 3 %}
                <a href="evals/{{ userSolution.id }}">Evaluation</a><br>
                <a href="coachingreview/{{ userSolution.id }}">Coaching Review</a><br>
                <a href="coachingsession/{{ userSolution.id }}">Coaching Session</a><br>

            {% endif %}
        </td>
        <td>
            {{ userSolution.challengeName }} - {{ userSolution.solutionInstance.name }}
        </td>
        <td>
            {{ userSolution.userOwner.last_name }}
        </td>

        <td>
            {{ userSolution.userOwner.first_name }}
        </td>
    </tr>
    {% endif %}
{% endfor %}


</table>

<table cellpadding="10px" border="1px">
Previously Evaluated
{% for userSolution in userSolutions %}
    {% if userSolution|check_evaluated:request.user is True %}
    <tr>
        <td>
            {% if request.user.profile.role == 2 %}
                <a href="/solutions/{{ userSolution.id }}">Solutions</a><br>
            {% endif %}

            {% if request.user.profile.role >= 3 %}
                <a href="/evals/{{ userSolution.id }}">Evaluation</a><br>
                <a href="/coachingreview/{{ userSolution.id }}">Coaching Review</a><br>
                <a href="/coachingsession/{{ userSolution.id }}">Coaching Session</a><br>

            {% endif %}
        </td>
        <td>
            {{ userSolution.challengeName }} - {{ userSolution.solutionInstance.name }}
        </td>
        <td>
            {{ userSolution.userOwner.last_name }}
        </td>

        <td>
            {{ userSolution.userOwner.first_name }}
        </td>
    </tr>
    {% endif %}
{% endfor %}
    </table>
{% endblock content %}