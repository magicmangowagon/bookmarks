{% extends "base.html" %}

{% block title %}
{{ challenge.name }}
{% endblock %}

{% block content %}

<h1>{{ challenge }}</h1>
    <p>
        <input type="button" onclick='window.location.href="/learningExperience/{{ previous }}";' value="Previous">
    </p>
    <br/>
<h2>Learning Objectives</h2>
    <ul class="challengeListObj">
        {% for learningObjective in learningObjectives_list %}
                <li class="challengeListObj"><strong>{{ learningObjective.compGroup }}-{{ learningObjective.compNumber }}
                    .{{ learningObjective.loNumber }}</strong>
                {{ learningObjective.name }}</li>
        {% endfor %}
    </ul>
    <p>Tags:</p>
    <ul class="challengeListObj">
        {% for tag in challenge.tags.all %}
            <li class="challengeListObj">{{ tag.name }}</li>
        {% endfor %}
    </ul>
<div>
        <h2>Link to Solution</h2>
        <form action="" method="post" enctype="multipart/form-data">

                {{ form.management_form }}

            
                {% for form in form %}
                <p>{{ form.userOwner }}{{ form.challengeName }}</p>
                    <p>
                        <label>{{ form.solution.label }}</label>
                        {{ form.solution }}
                    </p>
                    <h3>Framing the Feedback</h3>
                    <p>{{ form.errors }}</p>
                    <label>{{ form.goodTitle.label }}</label>
                    <p>{{ form.goodTitle }}</p>

                    <label>{{ form.workFit.label }}</label>
                    <p>{{ form.workFit }}</p>

                    <label>{{ form.proudDetail.label }}</label>
                    <p>{{ form.proudDetail }}</p>

                    <label>{{ form.hardDetail.label }}</label>
                    <p>{{ form.hardDetail }}</p>

                    <label>{{ form.objectiveWell.label }}</label>
                    <p>{{ form.objectiveWell }}</p>

                    <label>{{ form.objectivePoor.label }}</label>
                    <p>{{ form.objectivePoor }}</p>

                    <label>{{ form.personalLearningObjective.label }}</label>
                    <p>{{ form.personalLearningObjective }}</p>

                    {{ feedbackForm.management_form }}
                    <div>
                    <h3>Challenge Feedback</h3>
                    <label>How did you feel about each learning experience in this challenge?</label>
                    <ul class="learningExpoResponseFlex">

                        {% for LearningExpoResponses in feedbackForm %}
                            <li class="learningExpoResponseBox">
                            <p id="learnExpo{{ LearningExpoResponses.learningExperience.auto_id }}"> </p>
                            <span style="display: none">{{ LearningExpoResponses.learningExperience }}</span>
                            <p>{{ LearningExpoResponses.user }}</p>

                            <p>{{ LearningExpoResponses.learningExperienceResponse }}</p>

                            {{ LearningExpoResponses.id }}
                            <script>
                                var options = document.getElementById("{{ LearningExpoResponses.learningExperience.auto_id }}");
                                var selectedText = options.options[options.selectedIndex].text;
                                document.getElementById("learnExpo{{ LearningExpoResponses.learningExperience.auto_id }}").innerHTML = selectedText;
                            </script>
                            </li>
                        {% endfor %}
                    </ul>
                    </div>

                    <label>{{ form.helpfulLearningExp.label }}</label>
                    <p>{{ form.helpfulLearningExp }}</p>

                    <label>{{ form.notHelpfulLearningExp.label }}</label>
                    <p>{{ form.notHelpfulLearningExp }}</p>

                    <label>{{ form.changeLearningExp.label }}</label>
                    <p>{{ form.changeLearningExp }}</p>

                    <label>{{ form.notIncludedLearningExp.label }}</label>
                    <p>{{ form.notIncludedLearningExp }}</p>
                    {{ form.id }}
                {% endfor %}


            <input type="submit" value="Upload Solution">
        {% csrf_token %}

        </form>

</div>

{% endblock %}